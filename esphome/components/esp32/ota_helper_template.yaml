# OTA Helper Firmware Template
# This is the default template used to build the minimal OTA helper firmware.
# Users can override this by creating 'ota-helper.yaml' in their project directory.

esphome:
  name: ${device_name}-ota-helper
  friendly_name: "${device_friendly_name} OTA Helper"

esp32:
  variant: ESP32P4
  framework:
    type: esp-idf

esp32_hosted:
  active_high: true
  variant: ESP32C6
  reset_pin: GPIO54
  cmd_pin: GPIO19
  clk_pin: GPIO18
  d0_pin: GPIO14
  d1_pin: GPIO15
  d2_pin: GPIO16
  d3_pin: GPIO17

# Minimal components required for OTA functionality
wifi:
  ssid: !secret wifi_ssid
  password: !secret wifi_password

api:
  encryption:
    key: !secret esphome_encryption_key

logger:
  level: INFO

ota:
  - platform: esphome
    password: !secret esphome_encryption_key
    mode: psram
    target_partition: "main"

# PSRAM required for buffering firmware during OTA
psram:
  mode: hex
  speed: 200MHz
